<view class="page" style="height:100%">
    <scroll-view scroll-y="true" class="timeline flex-rest-height">
        <block wx:for="{{message}}" wx:for-item = "item">
        <view class="message flex-row {{item.from === 'sent' ? 'message-sent' : ''}}">
            <text wx:if="{{!item.image}}" class="message-text {{item.from === 'sent' ? 'message-sent-text' : 'message-received-text'}}">{{item.text}}</text>
            <image wx:else src="{{item.text}}" class="message-image"></image>
        </view>
        </block>
    </scroll-view>
</view>